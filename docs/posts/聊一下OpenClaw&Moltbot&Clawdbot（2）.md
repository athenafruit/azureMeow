---
title: 聊一下 OpenClaw/Moltbot/Clawdbot（二）
description: OpenClaw 的解决方案与其他产品的对比分析
---

# 聊一下 OpenClaw/Moltbot/Clawdbot（二）

花点时间列了这几天的一些思考，见下：

1. 解决的问题是什么
2. 针对该问题解决方案的演变趋势
3. **OpenClaw 的解决方案是什么（产品形态及技术思路）**
4. **与其他产品 Cowork/Claude Code Agent 的不同**
5. 一些关于未来的思考

> 按需获取。本文主要讲 **3、4** 部分。
> 
> 1、2、5 见：[聊一下 OpenClaw/Moltbot/Clawdbot](/posts/聊一下OpenClaw_Moltbot_Clawdbot)

---

## 3. OpenClaw 的解决方案是什么

### 设计思想

**本地优先、隐私至上、用户完全控制**，旨在打造一个"个人 OS"式的 AI 助手。

#### 隐私与自主性

所有数据和操作均在用户本地设备运行，避免云端围墙花园（walled gardens），用户拥有完整控制权。

#### 主动与持久

不同于被动聊天的 AI，它支持：
- **持久记忆**：24/7 保留上下文
- **主动行为**：心跳机制、后台任务、提醒、cron 作业

能自主执行复杂工作流。

#### 可扩展与自改进

开源、可黑客（hackable），支持社区插件（skills）、AI 自我生成扩展，甚至能编辑自身提示词（hot-reload），实现"自我黑客"。

#### 无缝集成与实际行动

打破 app 孤岛，能自动化主机上"任何可做的事"，从简单任务到多代理协作，定位为"数字员工"或"超级助手"，强调实用、快速、始终在线。

#### 开放与灵活

支持多种 LLM（如 Claude、GPT、本地模型），社区驱动，鼓励用户自定义。

> **总体上，它代表了"代理式 AI"（agentic AI）的未来趋势：不止聊天，而是真正"做事"的个人助手。**

---

### 产品形态

Moltbot 不是云服务或硬件产品，而是**开源自托管软件**：

| 维度 | 说明 |
|------|------|
| **安装方式** | 通过简单的一行命令（如 curl 脚本）安装，支持 macOS、Windows、Linux，甚至 Raspberry Pi |
| **交互形式** | 主要通过聊天 app（WhatsApp、Telegram、Discord、Slack、Signal、iMessage）控制 |
| **运行环境** | 本地运行（推荐 Mac Mini 等设备以保持始终在线），也可部署到服务器 |
| **形态特点** | 轻量、快速启动（几分钟到半小时），高度可配置，支持沙盒模式限制权限 |

> GitHub 仓库：github.com/moltbot/moltbot（已获数万星标）
> 
> 它本质是一个运行在你设备上的 AI 代理框架，感觉像"本地 AGI 雏形"。

---

### 支持的能力/功能

Moltbot 擅长执行真实世界任务，核心是**代理循环（agentic loop）**，能浏览、脚本、API 调用等。

#### 日常自动化
- 清空/管理邮箱、发送邮件
- 管理日历
- 航班 check-in
- 提醒设置

#### 系统控制
- 浏览网页、填表单
- 读写文件
- 运行 shell 命令/脚本
- 控制浏览器

#### 主动行为
- 后台运行任务
- 心跳检测
- 自主提醒
- 多代理协作（子代理）

#### 集成与扩展

**聊天平台：** WhatsApp、Telegram 等，支持 DM 和群聊

**服务集成：**
- Gmail、Google Calendar、GitHub
- Spotify、Todoist、Obsidian
- Twitter/X、RSS、航班 CLI
- 智能家居（如 Hue 灯、空气净化器）

**高级功能：**
- 生成视频（Sora2）
- 语音合成（ElevenLabs）
- 代码测试（Sentry）
- API 代理等

#### 记忆与学习

持久上下文存储，记住偏好，能从对话中学习并自我优化。

#### 模型支持

灵活切换 Claude（推荐 Opus 作为"大脑"）、GPT、本地模型。

#### Skills 系统

- 大量预置/社区技能，如习惯跟踪、网站构建、冥想生成等
- AI 可自动创建新技能
- 支持用户自定义创建 skills
- 有一个插件系统，用户可以像写 Markdown 文档一样定义新的 Skill

> ⚠️ **注意**：因权限强大（可访问系统），有安全风险，建议使用沙盒、专用设备。但开源可审计。项目发展迅速，许多用户视其为"改变生活"的工具。

---

## 技术实现思路

Moltbot（前 Clawdbot）是一个开源的自托管 AI 代理框架，主要用 TypeScript/Node.js 构建，核心依赖大型语言模型（LLM，如推荐的 Anthropic Claude Opus）来驱动智能行为。

它不是一个简单的聊天机器人，而是采用**代理式循环（Agentic Loop）**设计，强调本地运行、工具集成和持久交互。

整体思路是**"本地优先、模块化、可扩展"**，通过 Gateway（网关）作为中央枢纽，协调多渠道输入、多个代理会话和工具执行。

---

### 1. 整体架构

#### 核心组件

| 组件 | 说明 |
|------|------|
| **Gateway（网关）** | 项目的"大脑中枢"，基于 WebSocket（默认 `ws://127.0.0.1:18789`）运行。负责接收来自各种渠道的消息，路由到独立的代理会话，管理工具调用、事件分发和回复 |
| **Agent（代理）** | 每个会话一个独立的代理实例，通过 `moltbot agent` 命令启动。代理使用 LLM 处理输入，支持多代理协作 |
| **渠道集成** | 支持多平台消息输入/输出，群聊有激活模式（mention 触发或始终监听） |
| **工具与节点** | 工具是"一等公民"，包括浏览器控制（CDP 协议）、画布、cron 定时任务、设备节点等 |

#### 技术栈

- Node.js（≥22）、TypeScript 为主
- 辅以 Swift（macOS app）、Kotlin（Android）
- 支持多种 LLM（Claude 优先，也可 OpenAI 或本地模型）
- 有模型故障转移机制

#### 运行模式

本地自托管，推荐始终在线设备（如 Mac Mini）。配置通过 `~/.moltbot/moltbot.json` 和 workspace 文件管理。

---

### 2. 代理循环（Agent Loop）

**核心流程**：经典的 ReAct-style 代理循环（Reasoning + Acting），但高度可配置。

```
用户消息 → Gateway 路由到对应 Session → Agent 使用 LLM 思考/规划 
         → 调用工具 → 执行结果反馈 → 流式返回用户
```

#### 思考级别（Thinking Levels）

通过 `/think off|minimal|low|medium|high|xhigh` 命令控制 LLM 的推理深度：
- 高级别：更复杂规划
- 低级别：更快响应

#### 流式输出

支持思考流、工具调用流、打字指示符和在线状态（Presence），让交互更自然。

#### 独特机制

- **心跳（Heartbeat）**：检测后台任务，允许代理"主动"行为（如定时提醒）
- **多代理路由**：支持复杂工作流（一个代理协调多个子代理）

---

### 3. 记忆实现（Memory Management）

#### 短期记忆

基于会话转录日志（Transcript Logs），通过 `sessions_history` 工具访问历史对话。上下文可通过 `/compact` 命令压缩成摘要，避免 token 超限。

#### 持久记忆

不依赖复杂数据库，而是通过**workspace 文件注入**实现：

| 文件 | 作用 |
|------|------|
| `AGENTS.md` | 代理配置 |
| `SOUL.md` | 代理个性定义（"灵魂注入"） |
| `TOOLS.md` | 工具描述 |
| `SKILL.md` | 技能定义 |
| `MEMORY.md` | 持久记忆 |

这些 Markdown 文件自动注入到 LLM 提示中，提供持久上下文。用户可手动编辑。

#### 高级扩展

社区插件（如 Claude-Mem）可增强记忆，自动记录/压缩笔记到 MEMORY.md。

> **整体思路是"文件即记忆"**，简单、可审计、本地化，避免云依赖。

---

### 4. 意图识别（Intent Recognition）

**实现方式**：完全依赖 LLM 的自然语言理解。

- 用户输入直接喂给 LLM，结合注入的提示
- 内置命令（如 `/status`、`/think`、`/verbose`、`/new`）由代理直接解析
- 渠道规则辅助：群聊需 @提及 触发，DM 可设置开放/配对模式

> **思路**：不使用独立意图分类器，而是让强大 LLM（如 Claude）在上下文中推断意图，支持模糊/复杂指令。模型长上下文能力是关键。

---

### 5. 规划与推理（Planning & Reasoning）

**核心**：通过思考级别控制 LLM 的链式思考（Chain-of-Thought）。

- 高思考级别时，LLM 会生成多步计划、评估选项
- 支持跨会话规划：使用 `sessions_list`、`sessions_history`、`sessions_send` 工具
- **技能系统（Skills）**：预置/社区技能作为可复用模块，代理可动态发现/安装技能辅助规划

> **思路**：强调"代理自主性"，LLM 主导规划，结合工具流式调用实现复杂任务。

---

### 6. 工具调用与执行（Tool Calling & Execution）

#### 工具调用机制

```
LLM 输出结构化工具调用请求 → Gateway 解析 → 通过 node.invoke RPC 执行
```

- **工具分层**：主工具在 Gateway 主机执行，受限工具需权限；辅助会话工具在 Docker 沙盒运行
- 支持媒体处理管道（图像/音频转录、尺寸限制）

#### 执行过程

1. LLM 决定调用工具并生成参数
2. Gateway 执行（本地或沙盒）
3. 结果实时流回 LLM，继续推理或直接回复用户
4. 支持并行/顺序调用

#### 安全设计

- 权限门控（TCC）
- 沙盒隔离
- 可审计开源代码

#### 独特工具

- Live Canvas（A2UI 可视化工作区）
- 语音唤醒
- cron 定时
- 设备节点等

---

### 总体设计哲学

**优势**：
- 高度 hackable（热重载提示、社区技能）
- 隐私优先（全本地）
- 主动性强（后台任务、多代理）

**潜在局限**：
- 依赖强大 LLM（Claude 费用高，本地模型弱时效果差）
- 记忆需手动配置
- 安全风险高（强大权限，建议专用设备/沙盒）

> 项目快速发展（2026 年初爆火），社区贡献多技能/插件。

---

### 🗂️ Moltbot 实现思路简洁总结

| 模块 | 实现方式 |
|------|----------|
| **整体架构** | Gateway（中央枢纽）+ Agent（独立会话）+ 多渠道输入输出 |
| **代理循环** | ReAct 式循环，思考级别可调，支持心跳后台任务、多代理协作 |
| **记忆** | 短期：会话日志 + `/compact` 压缩；持久：文件注入（MEMORY.md 等） |
| **意图识别** | 纯 LLM 自然语言理解，无独立分类器 |
| **规划与推理** | LLM 主导链式思考，辅助工具：sessions 跨会话协调、技能系统 |
| **工具调用** | 结构化调用请求 → Gateway 解析 → 本地/沙盒执行 |

**核心哲学**：本地优先、文件即配置、LLM 驱动一切、高度可 hack。

---

## 4. 与其他产品的不同

### 背景澄清

| 产品 | 定位 |
|------|------|
| **Moltbot**（前 Clawdbot） | 开源自托管 AI 代理框架，个人"数字员工" |
| **Claude Agent SDK** | Anthropic 官方 SDK，用于开发者构建自定义 AI agents |
| **Claude Cowork** | Anthropic 2026 年 1 月发布的 research preview，扩展 Claude Code 到非编码知识工作 |

---

### 核心对比

| 维度 | Moltbot | Claude Agent SDK | Claude Cowork |
|------|---------|------------------|---------------|
| **解决问题** | 个人日常自动化、打破 app 孤岛、隐私本地执行 | 开发者构建专业 agents | 非技术知识工作自动化 |
| **面向用户** | 终端用户、技术爱好者 | 开发者、工程师 | 普通知识工作者 |
| **产品形态** | 开源自托管软件 | 编程 SDK/library | Claude 桌面 app 功能 |
| **隐私与控制** | 全本地运行，开源可审计 | 云端 API | 本地文件访问但 LLM 云端 |
| **成本** | 免费开源 + LLM API 费用 | Anthropic API 费用 | Claude Max 订阅 |

---

### Moltbot 的优势

#### 1. 隐私与控制

Moltbot 全本地自托管，数据/操作不离设备，开源可审计；Cowork 虽文件访问本地沙盒，但 LLM 云端处理。

#### 2. 灵活性与自定义

Moltbot 高度 hackable（热重载提示、社区技能、编辑"灵魂"文件），支持无限扩展；Cowork 封闭，能力限于官方内置。

#### 3. 交互与主动性

Moltbot 通过消息 app 随时交互，支持后台心跳、定时任务、多代理协作、始终在线；Cowork 限于 Claude 桌面 app tab。

#### 4. 能力广度

Moltbot 工具更全面（浏览器控制、shell 命令、cron、设备节点、邮件/日历集成）；Cowork 焦点窄（文件组织、文档创建）。

#### 5. 成本与访问

Moltbot 免费开源 + Claude API 费用；Cowork 需 Claude Max 订阅（$100-200/月）。

#### 6. 社区与演进

Moltbot 社区驱动、快速发展；Cowork 官方但 preview 阶段。

---

### 技术实现差异

| 维度 | Moltbot | Cowork |
|------|---------|--------|
| **意图识别** | 纯 LLM + 注入提示，更灵活 | LLM 驱动 + 界面结构化，更可靠 |
| **记忆** | 文件注入持久记忆，可手动编辑 | 会话上下文 + 文件夹内容，较临时 |
| **规划** | 思考级别可调，支持多代理协调 | 设置任务后自主计划执行 |
| **工具调用** | 更广/并行，支持社区自定义 | 更安全/专注文件，无需用户定义 |
| **执行** | 更强大（系统级自动化） | 更谨慎（防风险过滤） |

---

### 总结

| 场景 | 推荐 |
|------|------|
| 重视隐私/全场景自动化 | **Moltbot** |
| 快速处理办公文件 | **Cowork** |

> **相同**：都属于 agentic AI 趋势，依赖 Claude 强大推理，实现规划-工具调用-执行循环。
> 
> **不同**：Moltbot 强调开源/本地/个人全能；Cowork 是官方端到端产品，更封闭/易用。

两者互补，许多用户结合使用（Moltbot 也推荐 Claude 作为大脑）！
